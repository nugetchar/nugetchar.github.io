<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Nugetchar&#39;s notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Blog technique">
<meta property="og:type" content="website">
<meta property="og:title" content="Nugetchar&#39;s notes">
<meta property="og:url" content="http://nugetchar.github.io/index.html">
<meta property="og:site_name" content="Nugetchar&#39;s notes">
<meta property="og:description" content="Blog technique">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nugetchar&#39;s notes">
<meta name="twitter:description" content="Blog technique">
  
    <link rel="alternate" href="/atom.xml" title="Nugetchar&#39;s notes" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Nugetchar&#39;s notes</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://nugetchar.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-a-react-tale-two" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/12/a-react-tale-two/" class="article-date">
  <time datetime="2019-07-12T13:43:08.000Z" itemprop="datePublished">2019-07-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/12/a-react-tale-two/">Une histoire de React - Chapitre II</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Nous voici donc de retour pour la suite de notre série de billets sur React.<br>Pour celui-ci, nous allons nous intéresser aux tests avec la mise en place du package <a href="https://www.npmjs.com/package/enzyme" target="_blank" rel="noopener">Enzyme</a>. L’écriture de nos tests sera traitée dans un prochain article.</p>
<h2 id="Rappel"><a href="#Rappel" class="headerlink" title="Rappel"></a>Rappel</h2><p>Pour rappel, nous sommes partis sur la stack suivante :</p>
<ul>
<li>front avec <a href="https://fr.reactjs.org/" target="_blank" rel="noopener">React</a></li>
<li>back avec <a href="https://nestjs.com/" target="_blank" rel="noopener">NestJS</a></li>
<li>BDD avec <a href="https://www.postgresql.org/" target="_blank" rel="noopener">PostgreSQL</a></li>
</ul>
<p>Avec la structure suivante :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">~/&lt;notre projet&gt;</span><br><span class="line"> |</span><br><span class="line"> |____ [client]</span><br><span class="line"> |		|__notre application React</span><br><span class="line"> |</span><br><span class="line"> |____ [server]</span><br><span class="line"> 		|__notre application NestJS</span><br></pre></td></tr></table></figure>

<p>Dans cet article, nous allons nous focaliser sur la partie <code>client</code> de notre projet.</p>
<h2 id="Qu’est-ce-qu’Enzyme"><a href="#Qu’est-ce-qu’Enzyme" class="headerlink" title="Qu’est-ce qu’Enzyme ?"></a>Qu’est-ce qu’Enzyme ?</h2><p><a href="https://www.npmjs.com/package/enzyme" target="_blank" rel="noopener">Enzyme</a> est un utilitaire de test pour React. Là où Karma avec Angular nécessitait de spécifier les dépendances ou bien de les mocker, Enzyme permet d’effectuer ce que l’on appelle du Shallowing Testing, entre autres choses.</p>
<h3 id="Pourquoi-Enzyme"><a href="#Pourquoi-Enzyme" class="headerlink" title="Pourquoi Enzyme ?"></a>Pourquoi Enzyme ?</h3><p>Enzyme permet de travailler avec d’autres librairies telles que <a href="https://jestjs.io/" target="_blank" rel="noopener">Jest</a>, et est de plus l’une des deux options recommandées par la <a href="https://facebook.github.io/create-react-app/docs/running-tests?fbclid=IwAR1LBDlewAQP7aCmYWzXeVzB8pjQXpIbPD7QhBPERELSjvGPzRQ2zYohOFc#testing-components" target="_blank" rel="noopener">documentation officielle</a> de React. L’autre option étant la <a href="https://github.com/testing-library/react-testing-library" target="_blank" rel="noopener">react-testing-library</a>.</p>
<p>Très honnêtement, j’ai trop peu de recul pour dire si l’une ou l’autre option est meilleure. À l’heure actuelle, si je devais donner un “argument” pour Enzyme, cela serait que <code>react-testing-library</code> est plutôt récent, et ne bénéficie peut-être pas encore de toute la capitalisation d’<code>enzyme</code>.</p>
<h3 id="Mise-en-place-des-tests"><a href="#Mise-en-place-des-tests" class="headerlink" title="Mise en place des tests"></a>Mise en place des tests</h3><p>Nous choisissons donc d’installer <code>enzyme</code>. De plus, dans le <a href="https://nugetchar.github.io/2019/07/11/a-react-tale-one/">précédent article</a>, nous avions installé <code>jest</code>, que nous utiliserons dans nos tests.</p>
<p>Rendez-vous dans la partie <code>client</code> :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/&lt;notre projet&gt;/client</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nous installons cette fois-ci les modules en tant que devDependencies</span></span><br><span class="line"><span class="comment"># car nous n'en aurons pas besoin lorsque l'application tournera en production</span></span><br><span class="line">yarn add -D enzyme enzyme-adapter-react-16 enzyme-to-json</span><br><span class="line"></span><br><span class="line"><span class="comment"># Comme nous travaillons en TypeScript, il faut installer les types</span></span><br><span class="line">yarn add -D @types/enzyme @types/enzyme-adapter-react-16 @types/jest</span><br></pre></td></tr></table></figure>

<h4 id="Les-snapshots-et-enzyme-to-json"><a href="#Les-snapshots-et-enzyme-to-json" class="headerlink" title="Les snapshots et enzyme-to-json"></a>Les snapshots et <code>enzyme-to-json</code></h4><p><a href="https://www.npmjs.com/package/enzyme-to-json" target="_blank" rel="noopener"><code>enzyme-to-json</code></a> est un package permettant de convertir les wrappers d’Enzyme dans un format compatible avec les <a href="https://jestjs.io/docs/en/snapshot-testing" target="_blank" rel="noopener">snapshots Jest</a>.</p>
<p>La documentation Jest indique ceci à propos des snapshots :</p>
<blockquote>
<p>Snapshot tests are a very useful tool whenever you want to make sure your UI does not change unexpectedly.</p>
<p>A typical snapshot test case for a mobile app renders a UI component, takes a snapshot, then compares it to a reference snapshot file stored alongside the test. The test will fail if the two snapshots do not match: either the change is unexpected, or the reference snapshot needs to be updated to the new version of the UI component.</p>
</blockquote>
<p>Travailler avec les snapshots présente les avantages suivants :</p>
<ul>
<li>facilité de testing</li>
<li>cohérence renforcée avec l’UI</li>
</ul>
<p>En contrepartie, et à chaque fois que votre composant verra son UI modifiée, vous devrez regénérer les snapshots avec <code>jest -u</code> ou bien <code>yarn test -u</code> dans notre cas. Cela permet par ailleurs de voir plus facilement la répercussion des changements sur les tests et <em>a fortiori</em> prévenir d’éventuelles régressions.</p>
<h4 id="Configuration-des-tests"><a href="#Configuration-des-tests" class="headerlink" title="Configuration des tests"></a>Configuration des tests</h4><p>Nous venons d’installer les packages nécessaires à l’écriture de nos tests. Mais cela n’est pas terminé, puisqu’il reste un peu de configuration à faire.</p>
<p>Dans le fichier <code>~/&lt;notre projet&gt;/client/package.json</code>, si elle n’y est pas, il faut ajouter la propriété suivante, au plus haut niveau : </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"jest": &#123;</span><br><span class="line">  "snapshotSerializers": [</span><br><span class="line">    <span class="string">"enzyme-to-json/serializer"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Exemple avec notre <code>package.json</code> :</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"project name"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"version"</span>,</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line">  </span><br><span class="line">  "jest": &#123;</span><br><span class="line">    "snapshotSerializers": [</span><br><span class="line">      <span class="string">"enzyme-to-json/serializer"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Enfin, il reste une dernière configuration à faire.<br>Pour bien la comprendre, reportons-nous à la documentation officielle <a href="https://facebook.github.io/create-react-app/docs/running-tests?fbclid=IwAR0S-ssHV_2XD5xrIk0tVaT91m42LPZ-hcTkUo_yIgFT-Zjmg6Un_5dgP60#src-setuptestsjs" target="_blank" rel="noopener">Testing components - Shallow rendering</a></p>
<p>L’utilisation d’Enzyme requiert l’installation d’un <code>adapter</code>, chose que nous avons fait en installant <code>enzyme-adapter-react-16</code>. Cependant, il est nécessaire de créer un fichier <code>setupTests</code> dans lequel nous allons spécifier à Enzyme l’adapter à utiliser. Ainsi, comme noté dans la documentation, nous aurons le fichier suivant :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configure &#125; <span class="keyword">from</span> <span class="string">'enzyme'</span>;</span><br><span class="line"><span class="keyword">import</span> Adapter <span class="keyword">from</span> <span class="string">'enzyme-adapter-react-16'</span>;</span><br><span class="line"></span><br><span class="line">configure(&#123; <span class="attr">adapter</span>: <span class="keyword">new</span> Adapter() &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cette dernière ligne est nécessaire car en Typescript, tous les fichiers</span></span><br><span class="line"><span class="comment">// doivent avoir au moins un export</span></span><br><span class="line"><span class="comment">// Cette ligne prévient une erreur de transpilation</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure>

<p>Ce fichier <code>setupTests.ts</code> est à placer dans <code>~/&lt;notre projet&gt;/client/src/</code>.</p>
<p><em>Note : normalement, il faudrait spécifier ce fichier dans le <code>package.json</code>. Néanmoins, en utilisant <code>create-react-app</code>, nous utilisons également <code>react-script</code>, qui le charge automatiquement, pour peu qu’il soit situé au bon endroit.</em></p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Nous voilà prêts pour écrire nos premiers tests.<br>Rendez-vous au prochain article pour notre premier composant et nos premiers tests unitaires. Et d’ici là, bon code !</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://nugetchar.github.io/2019/07/12/a-react-tale-two/" data-id="cjy6636yw0001epfw7rtyhsuv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/a-react-tale-react-javascript-typescript-configuration-npm-yarn-jest-enzyme-tests/">a-react-tale react javascript typescript configuration npm yarn jest enzyme tests</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-a-react-tale-one" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/11/a-react-tale-one/" class="article-date">
  <time datetime="2019-07-11T18:54:02.000Z" itemprop="datePublished">2019-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/11/a-react-tale-one/">Une histoire de React - Chapitre I</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Ce billet signe le début d’une longue suite concernant React, et retraçant pas à pas mon expérience avec ce framework. Nous y verrons les erreurs rencontrées, comment les éviter, et quelles leçons en tirer pour maîtriser ce framework et fournir par la suite des applications de qualité.</p>
<p>Sans plus tarder, rentrons dans le vif du sujet !</p>
<h2 id="Le-depart"><a href="#Le-depart" class="headerlink" title="Le départ"></a>Le départ</h2><p>Avec <a href="http://github.com/latourna" target="_blank" rel="noopener">Antoine L.</a>, vous avons décidé de travailler sur un projet personnel. Je n’en parlerai pas trop en détail, mais toujours est-il que, curieux que nous sommes, nous sommes partis sur la stack suivante :</p>
<ul>
<li>front avec <a href="https://fr.reactjs.org/" target="_blank" rel="noopener">React</a></li>
<li>back avec <a href="https://nestjs.com/" target="_blank" rel="noopener">NestJS</a></li>
<li>BDD avec <a href="https://www.postgresql.org/" target="_blank" rel="noopener">PostgreSQL</a></li>
</ul>
<h2 id="Stack-applicative"><a href="#Stack-applicative" class="headerlink" title="Stack applicative"></a>Stack applicative</h2><p>Comme nous aimons les choses belles et bien faites, nous avons plus précisément choisi les outils suivants :</p>
<p><strong>Front</strong></p>
<ul>
<li>initialisation front avec <em>create-react-app</em></li>
<li>développement en full TypeScript</li>
<li>utilisation des <a href="https://www.styled-components.com/" target="_blank" rel="noopener">styled-components</a></li>
<li>règles <a href="https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb" target="_blank" rel="noopener">eslint AirBnB</a></li>
<li>utilisation de <a href="https://github.com/prettier/prettier" target="_blank" rel="noopener">prettier</a></li>
<li>hooks de pré-commit avec <a href="https://github.com/typicode/husky" target="_blank" rel="noopener">Husky</a></li>
<li>tests avec <a href="https://jestjs.io/" target="_blank" rel="noopener">Jest</a></li>
</ul>
<p><strong>Back</strong></p>
<ul>
<li>NestJS</li>
<li>développement en full TypeScript</li>
<li>BDD avec PostgreSQL</li>
<li>gestion applicative de la BDD avec <a href="https://docs.nestjs.com/techniques/database" target="_blank" rel="noopener">TypeORM</a></li>
<li>règles <a href="https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb" target="_blank" rel="noopener">eslint AirBnB</a></li>
<li>tests avec <a href="https://jestjs.io/" target="_blank" rel="noopener">Jest</a></li>
<li>hooks de pré-commit avec <a href="https://github.com/typicode/husky" target="_blank" rel="noopener">Husky</a></li>
</ul>
<p><strong>Justification des choix</strong><br>Nous aurions très bien pu partir sur un front <a href="https://angular.io/" target="_blank" rel="noopener">Angular</a> avec un backend <a href="https://spring.io/projects/spring-boot" target="_blank" rel="noopener">Spring Boot</a>. Faire ce choix n’aurait <em>aucunement été un mauvais choix</em>. La principale raison pour laquelle nous avons décidé de partir sur du React ainsi que du NestJS a été de prendre en main des frameworks que nous n’avions pas forcément eu l’occasion de voir.<br>NestJS pour <a href="http://github.com/latourna" target="_blank" rel="noopener">Antoine L.</a>.<br>React et NestJS pour moi-même.</p>
<p>Le choix des autres outils a été fait du fait de notre propre expérience chez nos clients respectifs.</p>
<h2 id="Structure-du-projet"><a href="#Structure-du-projet" class="headerlink" title="Structure du projet"></a>Structure du projet</h2><p>Nous travaillons en <em>monorepo</em>, et la structure de notre projet est la suivante :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">~/&lt;notre projet&gt;</span><br><span class="line"> |</span><br><span class="line"> |____ [client]</span><br><span class="line"> |		|__notre application React</span><br><span class="line"> |</span><br><span class="line"> |____ [server]</span><br><span class="line"> 		|__notre application NestJS</span><br></pre></td></tr></table></figure>

<h2 id="Un-peu-de-CI"><a href="#Un-peu-de-CI" class="headerlink" title="Un peu de CI ?"></a>Un peu de CI ?</h2><p>Pour la <em>Continuous Integration</em>, A.K.A <strong>l’intégration continue</strong>, nous avons fait le choix d’utiliser <a href="https://circleci.com/" target="_blank" rel="noopener">CircleCI</a>. Je parlerai de cet outil un peu plus en détail dans un autre article, mais pour faire court, <strong>CircleCI</strong> est un outil permettant de lier ses repositories GitHub à son compte et de configurer des processus d’intégration continue pour chaque branche de chaque projet, à chaque commit.</p>
<p>Ainsi, cela permet de faire passer chaque <em>pull request</em> par un processus de validation, en plus de la revue manuelle.<br>Tout ce dont vous avez besoin est d’un fichier de configuration, <code>config.yml</code>, situé dans un dossier <code>.circleci</code> lui-même situé à la racine de votre projet.</p>
<p>Pour information, voici à quoi ressemble le notre :</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  lint:</span></span><br><span class="line"><span class="attr">    working_directory:</span> <span class="string">~/&lt;nom</span> <span class="string">du</span> <span class="string">projet&gt;</span></span><br><span class="line">    <span class="comment"># Nous utilisons l'image docker node fournie par CicleCI</span></span><br><span class="line"><span class="attr">    docker:</span></span><br><span class="line"><span class="attr">      - image:</span> <span class="string">circleci/node:12</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">checkout</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">yarn</span> <span class="string">install</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">yarn</span> <span class="string">lint</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  client:</span></span><br><span class="line"><span class="attr">    working_directory:</span> <span class="string">~/&lt;nom</span> <span class="string">du</span> <span class="string">projet&gt;/client</span></span><br><span class="line"><span class="attr">    docker:</span></span><br><span class="line"><span class="attr">      - image:</span> <span class="string">circleci/node:12</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">      - checkout:</span></span><br><span class="line"><span class="attr">          path:</span> <span class="string">~/&lt;nom</span> <span class="string">du</span> <span class="string">projet&gt;</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">yarn</span> <span class="string">install</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">yarn</span> <span class="string">build</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">yarn</span> <span class="string">test</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  server:</span></span><br><span class="line"><span class="attr">    working_directory:</span> <span class="string">~/&lt;nom</span> <span class="string">du</span> <span class="string">projet&gt;/server</span></span><br><span class="line"><span class="attr">    docker:</span></span><br><span class="line"><span class="attr">      - image:</span> <span class="string">circleci/node:12</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">      - checkout:</span></span><br><span class="line"><span class="attr">          path:</span> <span class="string">~/&lt;nom</span> <span class="string">du</span> <span class="string">projet&gt;</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">yarn</span> <span class="string">install</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">yarn</span> <span class="string">build</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">yarn</span> <span class="string">test</span></span><br><span class="line"></span><br><span class="line"><span class="attr">workflows:</span></span><br><span class="line"><span class="attr">  version:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">  all:</span></span><br><span class="line"><span class="attr">    jobs:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">lint</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">client</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">server</span></span><br></pre></td></tr></table></figure>

<h2 id="Initialisation-front"><a href="#Initialisation-front" class="headerlink" title="Initialisation front"></a>Initialisation front</h2><p>Pour initialiser le front, c’est très simple :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Installation globale de l'outil create-react-app</span></span><br><span class="line">sudo npm install -g create-react-app</span><br><span class="line"></span><br><span class="line"><span class="comment"># génération du projet</span></span><br><span class="line">create-react-app &lt;nom du projet&gt; --typescript</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> &lt;nom du projet&gt;</span><br><span class="line">yarn add styled-components prettier eslint lint-staged husky</span><br></pre></td></tr></table></figure>

<p>Vous avez ainsi une première base pour commencer à développer votre application React.</p>
<h2 id="Initialisation-du-back"><a href="#Initialisation-du-back" class="headerlink" title="Initialisation du back"></a>Initialisation du back</h2><p>Là encore, il ne s’agit ni plus ni moins que d’une installation de modules :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Installation globale du CLI de NestJS</span></span><br><span class="line">npm install -g @nestjs/cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># Rappelez-vous de la structure du projet : nous avons un dossier nommé "server"</span></span><br><span class="line"><span class="comment"># contenant notre application NestJS</span></span><br><span class="line">nest new server</span><br><span class="line"></span><br><span class="line"><span class="comment"># Installation de l'outil TypeORM</span></span><br><span class="line">yarn add @nestjs/typeorm typeorm pg</span><br></pre></td></tr></table></figure>

<p>Du reste, à moins d’avoir besoin d’autres outils, cela devrait suffire.</p>
<h2 id="Et-pour-la-BDD"><a href="#Et-pour-la-BDD" class="headerlink" title="Et pour la BDD ?"></a>Et pour la BDD ?</h2><p>Afin de faire les choses correctement, <a href="http://github.com/latourna" target="_blank" rel="noopener">Antoine L.</a> a tout simplement configuré une image Docker pour que l’on puisse utiliser PostgreSQL sur nos environnements de développement.</p>
<p>Le fichier de configuration est le suivant et est situé à la racine du projet :</p>
<p><em>docker-compose.yml</em></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3'</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"><span class="attr">  postgresql:</span></span><br><span class="line"><span class="attr">    image:</span> <span class="string">'postgres'</span></span><br><span class="line"><span class="attr">    ports:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">'5432:5432'</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">POSTGRES_DB=&lt;votre</span> <span class="string">bdd&gt;</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">POSTGRES_USER=root</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">POSTGRES_PASSWORD=root</span></span><br></pre></td></tr></table></figure>

<p>Cela nécessite également de modifier le fichier de configuration de <em>TypeORM</em>, situé dans le dossier <code>server</code> :</p>
<p><em>ormconfig.json</em></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"postgres"</span>,</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"localhost"</span>,</span><br><span class="line">    <span class="attr">"port"</span>: <span class="number">5432</span>,</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"root"</span>,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="string">"root"</span>,</span><br><span class="line">    <span class="attr">"database"</span>: <span class="string">"&lt;votre bdd&gt;"</span>,</span><br><span class="line">    <span class="attr">"entities"</span>: [<span class="string">"src/**/*.entity&#123;.ts,.js&#125;"</span>],</span><br><span class="line">    <span class="attr">"synchronize"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Il est important que le <strong>port</strong> et le <strong>nom de la base de données</strong> soient cohérents avec ceux du <code>docker-composer.yml</code></p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Ce billet présentait les différents outils que nous avons mis en place pour notre projet. Pour les prochains billets, nous nous focaliserons plus particulièrement sur la partie React. D’ici là, bon code !</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://nugetchar.github.io/2019/07/11/a-react-tale-one/" data-id="cjy6636yq0000epfwl6rnbrzg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/a-react-tale-react-javascript-typescript-nestjs-configuration-npm-yarn-jest/">a-react-tale react javascript typescript nestjs configuration npm yarn jest</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-first-post" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/11/first-post/" class="article-date">
  <time datetime="2019-07-11T13:08:02.000Z" itemprop="datePublished">2019-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/11/first-post/">Bienvenue !</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Bienvenue sur ce blog technique, qui fait peau neuve après des années d’absence.</p>
<h2 id="Qui-suis-je"><a href="#Qui-suis-je" class="headerlink" title="Qui suis-je ?"></a>Qui suis-je ?</h2><p><strong>Thomas Toledo-Pierre</strong>, 27 ans, développeur depuis désormais quatre ans.<br>J’ai commencé l’informatique à 14 ans, en découvrant le <strong>Site du Zéro</strong>, désormais connu sous le nom d’<a href="https://openclassrooms.com/fr/" target="_blank" rel="noopener">Open Classroom</a>. À l’époque, je découvre le Web avec le <em>HTML</em>, le <em>CSS</em> (auquel je voue alors une haine profonde) ainsi que le <em>PHP</em> (auquel je voue aujourd’hui une haine encore plus profonde).</p>
<p>Je sais alors que mes études seront celles d’un développeur : je veux avant tout savoir développer, qu’il s’agisse d’application Web ou non.<br>Après un DUT dans le merveilleux <strong>IUT de Paris Descartes</strong>, j’enchaine avec trois ans en apprentissage à l’<strong>UTC</strong> et dans une boîte où je ne fais absolument pas de développement, mais de la performance des systèmes d’information. J’y fais également la rencontre de quelques ingénieurs dont <a href="https://github.com/ImFlog" target="_blank" rel="noopener">Florian G.</a>, qui me convainc de venir dans ce que je considère aujourd’hui être l’une des meilleures SSII d’Île-de-France : <a href="https://fr.ippon.tech/" target="_blank" rel="noopener">IPPON Technologies</a>.</p>
<p>J’y passe quatre superbes années, avant de me décider à voler de mes propres ailes et de devenir freelance.</p>
<p>C’est à cette occasion que je reprend ce blog technique.</p>
<h2 id="Quelles-technologies-m’interessent"><a href="#Quelles-technologies-m’interessent" class="headerlink" title="Quelles technologies m’intéressent ?"></a>Quelles technologies m’intéressent ?</h2><p>Je suis aujourd’hui particulièrement amoureux de tout ce qui tourne autour de <strong>JavaScript</strong>, qui est mon langage de prédilection. J’affection énormément <strong>TypeScript</strong>, que je considère aujourd’hui comme étant un <em>must have</em> dans les projets Web qui impliquent du JavaScript.<br>J’ai une bonne expérience avec <strong>Angular</strong>, et suis en train de prendre en main <strong>React</strong>.</p>
<p>En terme de backend, ma valeur sûre reste <strong>Spring Boot</strong> pour le Java.<br>Je tiens également à acquérir une expertise sur <strong>NodeJS</strong> et <a href="https://nestjs.com/" target="_blank" rel="noopener"><strong>NestJS</strong></a>.</p>
<p>Enfin, je m’intéresse depuis peu aux problématiques DevOps, que j’ai beaucoup rencontré durant les dernières années, et que je considère être un <em>pain point</em> dans bon nombre de projets, au même titre que la question de la <em>méthodologie de gestion de projet</em>.</p>
<h2 id="Quels-types-de-services"><a href="#Quels-types-de-services" class="headerlink" title="Quels types de services ?"></a>Quels types de services ?</h2><p>Je propose deux types de services :</p>
<ul>
<li>intervention en tant que développeur fullstack sur vos projets</li>
<li>formateur JavaScript pour vos équipes (entreprises) ou vos élèves (universités / IUT / écoles d’ingénieurs)</li>
</ul>
<h2 id="Ou-me-trouver"><a href="#Ou-me-trouver" class="headerlink" title="Où me trouver ?"></a>Où me trouver ?</h2><ul>
<li>sur LinkedIn : <a href="https://www.linkedin.com/in/thomastoledo/" target="_blank" rel="noopener">Thomas Toledo-Pierre</a></li>
<li>sur Github : <a href="https://github.com/nugetchar/" target="_blank" rel="noopener">Nugetchar</a></li>
<li>sur Twitter : <a href="https://twitter.com/ttoledo_js" target="_blank" rel="noopener">@ttoledo_js</a></li>
<li>sur Medium : <a href="https://medium.com/@nugetchar" target="_blank" rel="noopener">@nugetchar</a></li>
</ul>
<h2 id="Que-trouver-sur-ce-blog"><a href="#Que-trouver-sur-ce-blog" class="headerlink" title="Que trouver sur ce blog ?"></a>Que trouver sur ce blog ?</h2><p>Sur ce blog, vous trouverez beaucoup de retours d’expérience et de billets traitants de points techniques. Vous trouverez également des tutoriaux, l’une de mes grandes passions étant de transmettre la connaissance (raison pour laquelle je donne des formations).</p>
<h2 id="Ai-je-des-side-projects"><a href="#Ai-je-des-side-projects" class="headerlink" title="Ai-je des side projects ?"></a>Ai-je des <em>side projects</em> ?</h2><p>Oui.<br>Avec <a href="https://github.com/ImFlog" target="_blank" rel="noopener">Florian G.</a>, nous avons développé l’extension OpenSource <a href="https://github.com/ImFlog/sidetwitch/" target="_blank" rel="noopener">SideTwitch</a>, qui vous permet de regarder vos streams Twitch pendant que vous <del>travaillez</del> consultez vos mails. N’hésitez pas à y contribuer et à nous proposer des améliorations.<br>Avec <a href="https://github.com/latourna" target="_blank" rel="noopener">Antoine L.</a>, nous sommes en train de développer un site avec une stack React et NestJS, mais le repository est privé à l’heure où j’écris ces lignes.</p>
<h2 id="Ai-je-une-vie-en-dehors-de-l’informatique"><a href="#Ai-je-une-vie-en-dehors-de-l’informatique" class="headerlink" title="Ai-je une vie en dehors de l’informatique ?"></a>Ai-je une vie en dehors de l’informatique ?</h2><p>Outre les projets strictement technologiques, je suis écrivain. J’ai autoédité un chef d’oeuvre sobrement intitulé <a href="http://www.lulu.com/shop/thomo-tagada/la-fabuleuse-histoire-du-perlimpipou/paperback/product-23622368.html" target="_blank" rel="noopener">La Fabuleuse Histoire du Perlimpipou</a>. Ce n’est pas une blague, et ce livre est ma fierté (en plus d’être résolument drôle).</p>
<p>Je tiens également deux blogs d’écriture :</p>
<ul>
<li><a href="http://thomotagada.tumblr.com/" target="_blank" rel="noopener">Thomo Tagada</a></li>
<li><a href="https://laquestiondemerde.wordpress.com/" target="_blank" rel="noopener">La Question de Merde du Dimanche</a></li>
</ul>
<p>J’ai une énorme passion qui est de <del>botter des fesses</del> pratiquer l’aikido.<br>J’aime aussi beaucoup l’astronomie : il y a deux jours j’ai réussi à voir Jupiter au téléscope, c’est encore plus beau qu’une mise en production réussie.</p>
<h2 id="Quand-suis-je-disponible"><a href="#Quand-suis-je-disponible" class="headerlink" title="Quand suis-je disponible ?"></a>Quand suis-je disponible ?</h2><p>À partir du 20 septembre 2019.</p>
<p>Sur ces bonnes paroles, je vous souhaite une bonne visite et une bonne lecture !</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://nugetchar.github.io/2019/07/11/first-post/" data-id="cjy6636z00003epfwjvknkn6w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/welcome/">welcome</a></li></ul>

    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/a-react-tale-react-javascript-typescript-configuration-npm-yarn-jest-enzyme-tests/">a-react-tale react javascript typescript configuration npm yarn jest enzyme tests</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/a-react-tale-react-javascript-typescript-nestjs-configuration-npm-yarn-jest/">a-react-tale react javascript typescript nestjs configuration npm yarn jest</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/welcome/">welcome</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/a-react-tale-react-javascript-typescript-configuration-npm-yarn-jest-enzyme-tests/" style="font-size: 10px;">a-react-tale react javascript typescript configuration npm yarn jest enzyme tests</a> <a href="/tags/a-react-tale-react-javascript-typescript-nestjs-configuration-npm-yarn-jest/" style="font-size: 10px;">a-react-tale react javascript typescript nestjs configuration npm yarn jest</a> <a href="/tags/welcome/" style="font-size: 10px;">welcome</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/07/12/a-react-tale-two/">Une histoire de React - Chapitre II</a>
          </li>
        
          <li>
            <a href="/2019/07/11/a-react-tale-one/">Une histoire de React - Chapitre I</a>
          </li>
        
          <li>
            <a href="/2019/07/11/first-post/">Bienvenue !</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Thomas Toledo-Pierre<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>